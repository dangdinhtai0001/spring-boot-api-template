# spring-boot-api-template 

[![Gitpod Ready-to-Code](https://img.shields.io/badge/Gitpod-ready--to--code-blue?logo=gitpod)](https://gitpod.io/#https://github.com/dangdinhtai0001/spring-boot-api-template/tree/dangdinhtai)

[![Build Status](https://travis-ci.org/dangdinhtai0001/spring-boot-api-template.svg?branch=dangdinhtai)](https://travis-ci.org/dangdinhtai0001/spring-boot-api-template)

[![codecov](https://codecov.io/gh/dangdinhtai0001/spring-boot-api-template/branch/dangdinhtai/graph/badge.svg?token=G9KEPDJSFQ)](https://codecov.io/gh/dangdinhtai0001/spring-boot-api-template)
[![BCH compliance](https://bettercodehub.com/edge/badge/dangdinhtai0001/spring-boot-api-template?branch=master)](https://bettercodehub.com/)

[![Duplicated Lines (%)](https://sonarcloud.io/api/project_badges/measure?project=dangdinhtai0001_spring-boot-api-template&metric=duplicated_lines_density)](https://sonarcloud.io/dashboard?id=dangdinhtai0001_spring-boot-api-template)
[![Bugs](https://sonarcloud.io/api/project_badges/measure?project=dangdinhtai0001_spring-boot-api-template&metric=bugs)](https://sonarcloud.io/dashboard?id=dangdinhtai0001_spring-boot-api-template)
[![Code Smells](https://sonarcloud.io/api/project_badges/measure?project=dangdinhtai0001_spring-boot-api-template&metric=code_smells)](https://sonarcloud.io/dashboard?id=dangdinhtai0001_spring-boot-api-template)
[![Lines of Code](https://sonarcloud.io/api/project_badges/measure?project=dangdinhtai0001_spring-boot-api-template&metric=ncloc)](https://sonarcloud.io/dashboard?id=dangdinhtai0001_spring-boot-api-template)
[![Maintainability Rating](https://sonarcloud.io/api/project_badges/measure?project=dangdinhtai0001_spring-boot-api-template&metric=sqale_rating)](https://sonarcloud.io/dashboard?id=dangdinhtai0001_spring-boot-api-template)
[![Security Rating](https://sonarcloud.io/api/project_badges/measure?project=dangdinhtai0001_spring-boot-api-template&metric=security_rating)](https://sonarcloud.io/dashboard?id=dangdinhtai0001_spring-boot-api-template)
[![Technical Debt](https://sonarcloud.io/api/project_badges/measure?project=dangdinhtai0001_spring-boot-api-template&metric=sqale_index)](https://sonarcloud.io/dashboard?id=dangdinhtai0001_spring-boot-api-template)
[![Vulnerabilities](https://sonarcloud.io/api/project_badges/measure?project=dangdinhtai0001_spring-boot-api-template&metric=vulnerabilities)](https://sonarcloud.io/dashboard?id=dangdinhtai0001_spring-boot-api-template)

[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Fdangdinhtai0001%2Fspring-boot-api-template.svg?type=shield)](https://app.fossa.com/projects/git%2Bgithub.com%2Fdangdinhtai0001%2Fspring-boot-api-template?ref=badge_shield)

![GitHub language count](https://img.shields.io/github/languages/count/dangdinhtai0001/spring-boot-api-template)
![GitHub code size in bytes](https://img.shields.io/github/languages/code-size/dangdinhtai0001/spring-boot-api-template)
![GitHub repo file count](https://img.shields.io/github/directory-file-count/dangdinhtai0001/spring-boot-api-template)
![GitHub repo size](https://img.shields.io/github/repo-size/dangdinhtai0001/spring-boot-api-template)

![GitHub followers](https://img.shields.io/github/followers/dangdinhtai0001?style=social)
![GitHub forks](https://img.shields.io/github/forks/dangdinhtai0001/spring-boot-api-template?style=social)
![GitHub Repo stars](https://img.shields.io/github/stars/dangdinhtai0001/spring-boot-api-template?style=social)


## Table of Contents

## Technology stack & other Open-source libraries

### Data

* 	[Flyway](https://flywaydb.org/) - Version control for database
* 	[MySQL](https://www.mysql.com/) - Open-Source Relational Database Management System

### Server - Backend

* 	[JDK](https://www.oracle.com/java/technologies/javase-jdk11-downloads.html) - Javaâ„¢ Platform, Standard Edition Development Kit
* 	[Spring Boot](https://spring.io/projects/spring-boot) - Framework to ease the bootstrapping and development of new Spring Applications
* 	[Maven](https://maven.apache.org/) - Dependency Management
* 	[JSON Web Token](https://www.jsonwebtoken.io/) - Encode or Decode JWTs

###  Libraries and Plugins

* 	[Lombok](https://projectlombok.org/) - Never write another getter or equals method again, with one annotation your class has a fully featured builder, Automate your logging variables, and much more.

### External Tools & Services

* 	[Travis CI](https://travis-ci.org/github/dangdinhtai0001/spring-boot-api-template) - A hosted continuous integration service used to build and test software projects hosted at GitHub and Bitbucket.
*	[Dependabot](https://dependabot.com/) - Automated dependency updates.
*	[FOSSA](https://fossa.com/) - Scalable, end-to-end management for third-party code, license compliance and vulnerabilities.
*	[sonarcloud](https://sonarcloud.io/dashboard?id=dangdinhtai0001_spring-boot-api-template) - Cloud-based code analysis service designed to detect code quality issues continuously ensuring the maintainability, reliability and security of code.
* [gitignore.io](https://www.toptal.com/developers/gitignore/api/java,eclipse,intellij) - Create useful .gitignore files for your project.
* [Github sheild](https://shields.io/) - A service for concise, consistent, and legible badges in SVG and raster format, which can easily be included in GitHub readmes

## Features and To-Do

* 	[x] Logger (Console, File)
* 	[x] [Spring Security](https://spring.io/projects/spring-security)
* 	[ ] API [Rate Limiting](https://en.wikipedia.org/wiki/Rate_limiting)
* 	[x] [JPA Auditing via AuditorAware Interface](https://docs.spring.io/spring-data/jpa/docs/1.7.0.DATAJPA-580-SNAPSHOT/reference/html/auditing.html)
* 	[ ] [Spring Profiles](https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-profiles) (dev, production, qa, staging, test)
* 	[ ] [Caching](https://docs.spring.io/spring-boot/docs/2.1.6.RELEASE/reference/html/boot-features-caching.html)
* 	[ ] [HATEOS (Hypermedia as the Engine of Application State)](https://en.wikipedia.org/wiki/HATEOAS)
* 	[ ] Software documentation - [Swagger](https://swagger.io/), [Javadoc](https://en.wikipedia.org/wiki/Javadoc), [Postman Collection](https://www.postman.com/collection/)
* 	[ ] [HTTPS](https://en.wikipedia.org/wiki/HTTPS) with (self-signed certificate)[https://en.wikipedia.org/wiki/Self-signed_certificate]
* 	[x] [JSON Web Token](https://www.jsonwebtoken.io/) based authentication
* 	[ ] Quartz Scheduler
* 	[ ] Replace Docker with [jib](https://github.com/GoogleContainerTools/jib)
* 	[ ] [Docker](https://www.docker.com/)
*  [ ] Unit Tests, Integration Tests
* 	[ ] Shut down app on button click via actuator url 
* 	[ ] Spring Boot Admin
* 	[ ] NoSQL (MongoDB)
* 	[ ] Multitenancy
* 	[ ] Micrometer
* 	[ ] Grafna
* 	[ ] Spring Retry

## Getting Started
---

### Use case
There are 3 main use cases:
 - Log in with your password (permit all)
 - Sign in with google authenticator's otp code (permit all)
 - Create a QR code for google authenticator app (permit all)
 - Create account (Admin role / create_user_permission)
 - Retrieve password via email

### Database schema
 - USER

|No| Field| type| reqired| auto generated| primary key| foreign key| description|
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
|1| id ||x||||
|2| username |x|||||
|3| email |x||||
|4| password |x||||


 - ROLE
 
|No| Field| type| reqired| auto generated| primary key| foreign key| description|
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
|1| id ||x|||
|1| name |x||||

 - PERMISSION

|No| Field| type| reqired| auto generated| primary key| foreign key| description|
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
|1| id ||x|||
|1| name |x||||

 - USER_ROLE

|No| Field| type| reqired| auto generated| primary key| foreign key| description|
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
|1| user_id ||x|||
|1| role_id |x||||

 - ROLE_PERMISSION

|No| Field| type| reqired| auto generated| primary key| foreign key| description|
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
|1| role_id |x||||
|1| permission_id |x||||


### dependencies of modules

|Name|Module-adapter| Module-api| Module-common| Module-config| Module-core| Module-domain| Module-infrastructure|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|Module-adapter|_|_|_|x|_|_|_|
| Module-api|_|_|_|_|_|_|_|_|
| Module-common|_|_|_|_|x|_|_| 
| Module-config|_|x|_|_|_|_|_| 
| Module-core|x|_|_|x|_|_| _|
| Module-domain|x|_|_|_|x|_|x| 
| Module-infrastructure|x|_|_|_|_|_|_|

## Reference
---
This project uses source code from 
 - https://github.com/jwtk/jjwt.git, Copyright (C) 2014 jsonwebtoken.io
 - https://github.com/keycloak/keycloak.git

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
>http://www.apache.org/licenses/LICENSE-2.0

This project uses source code from
- https://github.com/Spring-Boot-Framework/Spring-Boot-Application-Template.git, Copyright (c) 2020 anantharajuc
- https://github.com/samdjstevens/java-totp.git, Copyright (c) 2019 Sam Stevens

Licensed under the MIT License


[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Fdangdinhtai0001%2Fspring-boot-api-template.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Fdangdinhtai0001%2Fspring-boot-api-template?ref=badge_large)
